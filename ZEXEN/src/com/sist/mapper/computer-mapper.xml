<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.mapper.computer-mapper">

<insert id="computerInsert" parameterType="ComputerVO">
   INSERT INTO computer_tb VALUES(
     (SELECT NVL(MAX(com_no)+1,1) FROM Computer_TB),
     #{cate_no},
     #{product},
     #{spec},
     #{image},
     #{quantity},
     #{cost},
     #{gift},
     #{sell_cnt},
     #{stock_cnt}
   )
</insert>

  <select id="computerListData" resultType="ComputerVO" parameterType="hashmap">
    SELECT com_no,product,image,cost,num
    FROM (SELECT com_no,product,image,cost,rownum as num
    FROM (SELECT com_no,product,image,cost
    FROM computer_tb WHERE cate_no=#{cate_no} ORDER BY com_no))
    WHERE num BETWEEN #{start} AND #{end}
  </select>
  
  <select id="computerTotalPage" resultType="int" parameterType="int">
    SELECT CEIL(COUNT(*)/12.0) FROM computer_tb
    WHERE cate_no=#{cate_no}
  </select>
</mapper>
